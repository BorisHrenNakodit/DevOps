## Подготовка к выполнению
В Yandex Cloud создайте новый инстанс (4CPU4RAM) на основе образа jetbrains/teamcity-server.
Дождитесь запуска teamcity, выполните первоначальную настройку.
Создайте ещё один инстанс (2CPU4RAM) на основе образа jetbrains/teamcity-agent. Пропишите к нему переменную окружения SERVER_URL: "http://<teamcity_url>:8111".
Авторизуйте агент.
Сделайте fork репозитория.
Создайте VM (2CPU4RAM) и запустите playbook.


https://github.com/BorisHrenNakodit/example-teamcity

## Основная часть
 1. Создайте новый проект в teamcity на основе fork.
 2. Сделайте autodetect конфигурации.
 3. Сохраните необходимые шаги, запустите первую сборку master.
   ![1](./img/1.jpg)
 4. Поменяйте условия сборки: если сборка по ветке master, то должен происходит mvn clean deploy, иначе mvn clean test.
 ![2](./img/2.jpg)
 5.  Для deploy будет необходимо загрузить settings.xml в набор конфигураций maven у teamcity, предварительно записав туда креды для подключения к nexus.
 6.  В pom.xml необходимо поменять ссылки на репозиторий и nexus.
 7. Запустите сборку по master, убедитесь, что всё прошло успешно и артефакт появился в nexus.
   ![3](./img/3.jpg)
 8. Мигрируйте build configuration в репозиторий.
 9.  Создайте отдельную ветку feature/add_reply в репозитории.
   ![4](./img/4.jpg)
 10. Напишите новый метод для класса Welcomer: метод должен возвращать произвольную реплику, содержащую слово hunter.
![5.1](./img/5.1.jpg)
![5.2](./img/5.2.jpg)
 11. Дополните тест для нового метода на поиск слова hunter в новой реплике.
 12. Сделайте push всех изменений в новую ветку репозитория.
   
 13. Убедитесь, что сборка самостоятельно запустилась, тесты прошли успешно.
   
 14. Внесите изменения из произвольной ветки feature/add_reply в master через Merge.
 15. Убедитесь, что нет собранного артефакта в сборке по ветке master.
   ![7](./img/7.jpg)
 16. Настройте конфигурацию так, чтобы она собирала .jar в артефакты сборки.
 17. Проведите повторную сборку мастера, убедитесь, что сбора прошла успешно и артефакты собраны.
![8](./img/9.jpg)
 18. Проверьте, что конфигурация в репозитории содержит все настройки конфигурации из teamcity.

