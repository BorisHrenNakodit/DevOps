
# Домашнее задание к занятию «Микросервисы: принципы»

Вы работаете в крупной компании, которая строит систему на основе микросервисной архитектуры.
Вам как DevOps-специалисту необходимо выдвинуть предложение по организации инфраструктуры для разработки и эксплуатации.

## Задача 1: API Gateway 

Предложите решение для обеспечения реализации API Gateway. Составьте сравнительную таблицу возможностей различных программных решений. На основе таблицы сделайте выбор решения.

Решение должно соответствовать следующим требованиям:
- маршрутизация запросов к нужному сервису на основе конфигурации,
- возможность проверки аутентификационной информации в запросах,
- обеспечение терминации HTTPS.

Обоснуйте свой выбор.
|Решение|Маршрутизация|Аутентификационной|Терминация HTTPS||
|-------|-------------|------------------|----------------|-|
|Ingress от Kubernetes|+|+|+|Базовый функционал, требует Ingress-контроллера |
|NGINX|+|+|+|Мощный веб-сервер, который можно использовать как API Gateway с поддержкой балансировки нагрузки.|
|Kong|+|+|+|Высокопроизводительный API Gateway с поддержкой плагинов и интеграцией с Kubernetes.|
|Traefik|+|+|+|Инструмент, оптимизированный для работы с контейнерами (Docker, Kubernetes)|
|HAProxy|+|+|+|Высокая производительность, низкие задержки|
|Contour|-|-|+|эффективного управления входящим трафиком в кластере Kubernetes, с упором на производительность, поддержку современных протоколов (HTTP/2, gRPC) и интеграцию с экосистемой Kubernetes.|

Судя по составленной таблице подходят почти все перечисленные решения. Мною был бы выбран Kong из-за того что высокопроизводительный API Gateway с поддержкой плагинов и интеграцией с Kubernetes и это open source решение.

## Задача 2: Брокер сообщений

Составьте таблицу возможностей различных брокеров сообщений. На основе таблицы сделайте обоснованный выбор решения.

Решение должно соответствовать следующим требованиям:
- поддержка кластеризации для обеспечения надёжности,
- хранение сообщений на диске в процессе доставки,
- высокая скорость работы,
- поддержка различных форматов сообщений,
- разделение прав доступа к различным потокам сообщений,
- простота эксплуатации.

Обоснуйте свой выбор.

||Кластеризация|хранение сообщений на диске|Cкорость|поддержка различных форматов|разделение прав доступа|Сложность эксплуатации|
|-|-------------|---------------------------|--------|---------------------------|-----------------------|---------------------|
|RabbitMQ|+|+|Cредняя|+|+|Средняя|
|Kafka|+|+|Очень высокая|+|+|Высокая|
|ActiveMQ|+|+|Высокая|+|+|Средняя|
|Redis|+|+|Высокая|+|+|Высокая|

Из выше перчисленного отлично подойдет Kafka не смотяр на ее сложность эксплуатации он компенсирует это высокой производительностью, обеспечивает наибольшую поддержку форматов сообщений,механизмы управления доступом через ACL.